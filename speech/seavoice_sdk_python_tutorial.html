<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta content="text to speech, speech to text, python, sdk, documentation, tutorial, customization" name="keywords" />
<meta content="python sdk tutorial for seavoice cutting edge text to speech and speech to text services" lang="en" name="description" xml:lang="en" />
<meta content="seavoice最先進的語音轉文字以及文字轉語音服務的python軟件開發套件的教學文檔" lang="zh" name="description" xml:lang="zh" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SeaVoice Python SDK &mdash; Seasalt.ai Documentation 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SeaVoice RESTful APIs" href="seavoice_restful_apis_tutorial.html" />
    <link rel="prev" title="SeaVoice Overview" href="readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            Seasalt.ai Documentation
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Product Introductions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../product_introduction/seavoice.html">SeaVoice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../product_introduction/seaauth.html">SeaAuth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../product_introduction/seax.html">SeaX</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SeaWord</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nlp/v1/index.html">SeaWord v1 APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/v2/index.html">SeaWord v2 APIs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SeaVoice (Seasalt speech)</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">SeaVoice README</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">SeaVoice SDK (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="seavoice_restful_apis_tutorial.html">SeaVoice RESTful APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="seavoice_restful_apis_tutorial.html#supported-ssml-tags">Supported SSML Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SeaAuth</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../auth/readme.html">SeaAuth Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SeaX</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contact_center/readme.html">SeaX Overview</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Seasalt.ai Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">SeaVoice Python SDK</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/speech/seavoice_sdk_python_tutorial.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="seavoice-python-sdk">
<span id="seavoice-sdk-python-tutorial"></span><h1>SeaVoice Python SDK<a class="headerlink" href="#seavoice-python-sdk" title="Permalink to this heading"></a></h1>
<p>This is the tutorial about how to use SeaVoice Python SDK to try Seasalt.ai Speech-To-Text (STT) and Text-To-Speech (TTS) services.</p>
<p>Please contact <a class="reference external" href="mailto:info&#37;&#52;&#48;seasalt&#46;ai">info<span>&#64;</span>seasalt<span>&#46;</span>ai</a> if you have any questions.</p>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#prerequisites" id="id3">Prerequisites</a></p></li>
<li><p><a class="reference internal" href="#speech-to-text-example" id="id4">Speech-to-Text Example:</a></p>
<ul>
<li><p><a class="reference internal" href="#install-and-import" id="id5">Install and import</a></p></li>
<li><p><a class="reference internal" href="#recognition" id="id6">Recognition</a></p>
<ul>
<li><p><a class="reference internal" href="#speech-configuration" id="id7">Speech Configuration</a></p></li>
<li><p><a class="reference internal" href="#recognizing-speech" id="id8">Recognizing speech</a></p></li>
<li><p><a class="reference internal" href="#putting-everything-together" id="id9">Putting everything together</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#text-to-speech-example" id="id10">Text-to-Speech Example:</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id11">Install and import</a></p></li>
<li><p><a class="reference internal" href="#synthesis" id="id12">Synthesis</a></p>
<ul>
<li><p><a class="reference internal" href="#voice-configuration" id="id13">Voice Configuration</a></p></li>
<li><p><a class="reference internal" href="#text-configuration" id="id14">Text Configuration</a></p></li>
<li><p><a class="reference internal" href="#output-file-configuration" id="id15">Output File Configuration</a></p></li>
<li><p><a class="reference internal" href="#synthesis-command" id="id16">Synthesis Command</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id17">Putting everything together</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#change-log" id="id18">Change Log</a></p></li>
</ul>
</nav>
<section id="prerequisites">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this heading"></a></h2>
<p>You will need a SeaVoice speech service account to run the following examples. Please contact <a class="reference external" href="mailto:info&#37;&#52;&#48;seasalt&#46;ai">info<span>&#64;</span>seasalt<span>&#46;</span>ai</a> to apply for the SEAVOICE_TOKEN.</p>
</section>
<section id="speech-to-text-example">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Speech-to-Text Example:</a><a class="headerlink" href="#speech-to-text-example" title="Permalink to this heading"></a></h2>
<section id="install-and-import">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Install and import</a><a class="headerlink" href="#install-and-import" title="Permalink to this heading"></a></h3>
<p>To install SeaVoice SDK:</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">seavoice-sdk-test</span></code></p>
<p>To import SeaVoice SDK:</p>
<p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">seavoice_sdk_beta.speech</span> <span class="pre">as</span> <span class="pre">speechsdk</span></code></p>
</section>
<section id="recognition">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Recognition</a><a class="headerlink" href="#recognition" title="Permalink to this heading"></a></h3>
<p>In the example below, we show how to recognize speech from an audio file. You can also apply recognition to an audio stream.</p>
<section id="speech-configuration">
<h4><a class="toc-backref" href="#id7" role="doc-backlink">Speech Configuration</a><a class="headerlink" href="#speech-configuration" title="Permalink to this heading"></a></h4>
<p>Use the following code to create <code class="docutils literal notranslate"><span class="pre">SpeechConfig</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recognizer</span> <span class="o">=</span> <span class="n">SpeechRecognizer</span><span class="p">(</span>
    <span class="n">token</span><span class="o">=</span><span class="n">SEAVOICE_TOKEN</span><span class="p">,</span>
    <span class="n">language</span><span class="o">=</span><span class="n">LanguageCode</span><span class="o">.</span><span class="n">EN_US</span><span class="p">,</span>
    <span class="n">sample_rate</span><span class="o">=</span><span class="mi">16000</span><span class="p">,</span>
    <span class="n">sample_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">enable_itn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">contexts</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">context_score</span><span class="o">=</span><span class="mi">0</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">language</span></code>: Input audio language, choose from <code class="docutils literal notranslate"><span class="pre">LanguageCode.ZH_TW</span></code>, <code class="docutils literal notranslate"><span class="pre">LanguageCode.EN_US</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enable_itn</span></code>: Whether to run Inverse Text Normalisation (ITN) to add punctuation and output written form instead of spoken form, i.e. output words like <code class="docutils literal notranslate"><span class="pre">Mr.</span></code> instead of <code class="docutils literal notranslate"><span class="pre">mister</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contexts</span></code>: A json dict to boost certain hotwords and/or phrases for recognition, and optionally rewrite certain spoken forms to a specific written form. Each key is a word/phrase for context biasing; each corresponding value is an optional dict containing a key ‘rewrite’ which maps to a list of possible spoken forms that will be rewritten to the written form (the key). In the above example, the word “seasalt” will be boosted and all occurences of “sea salt” and “c salt” will be rewritten to the capitalised “Seasalt”. Also, if a certain sentence is expected, you can also boost the whole sentence, e.g. “Seasalt is an AI company”</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contexts</span> <span class="o">=</span>  <span class="p">{</span>
    <span class="s2">&quot;Seasalt&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;rewrite&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sea salt&quot;</span><span class="p">,</span> <span class="s2">&quot;c salt&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;SeaVoice&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;rewrite&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;c voice&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">context_score</span></code>: The strength of the above provided <code class="docutils literal notranslate"><span class="pre">contexts</span></code>. We recommend starting with a score of 2.0 and try it out.</p></li>
</ul>
</div>
</section>
<section id="recognizing-speech">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">Recognizing speech</a><a class="headerlink" href="#recognizing-speech" title="Permalink to this heading"></a></h4>
<p>Now we use the recognizer to send audio at <code class="docutils literal notranslate"><span class="pre">audio_path</span></code> for recognition.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">recognizer</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_send</span><span class="p">():</span>
        <span class="k">with</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">audio_path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">audio_file</span><span class="p">:</span>
            <span class="n">frames</span> <span class="o">=</span> <span class="n">audio_file</span><span class="o">.</span><span class="n">readframes</span><span class="p">(</span><span class="n">frames_sent_per_command</span><span class="p">)</span>
            <span class="k">while</span> <span class="n">frames</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">recognizer</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
                <span class="n">frames</span> <span class="o">=</span> <span class="n">audio_file</span><span class="o">.</span><span class="n">readframes</span><span class="p">(</span><span class="n">frames_sent_per_command</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">recognizer</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>

    <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">_send</span><span class="p">())</span>
    <span class="k">async</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">recognizer</span><span class="o">.</span><span class="n">stream</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">frames_sent_per_command</span></code>: you can add <code class="docutils literal notranslate"><span class="pre">asyncio.sleep()</span></code> depending on the number of frames sent for each chunk to mimic a streaming setting with local audio file testing.</p>
<p>There are three types of events from the recognizer:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">InfoEvent</span></code> : contains the recognition status of one of the following <code class="docutils literal notranslate"><span class="pre">SpeechStatus.BEGIN</span></code>, <code class="docutils literal notranslate"><span class="pre">SpeechStatus.END</span></code>, <code class="docutils literal notranslate"><span class="pre">SpeechStatus.ERROR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RecognizingEvent</span></code> : contains the following information</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">text</span></code>: this is the partial transcription that might change in the <code class="docutils literal notranslate"><span class="pre">RecognizedEvent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">segment_id</span></code>: 0-based index of this recognizing segment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">voice_start_time</span></code>: timestamp in seconds of the start of this segment relative to the start of the audio.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">word_alignments</span></code>: a list of <code class="docutils literal notranslate"><span class="pre">WordAlignment</span></code> objects containing the start timestamp of each word relative to the start of the audio.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">RecognizedEvent</span></code> : similar to the <code class="docutils literal notranslate"><span class="pre">RecognizingEvent</span></code> with an additional <code class="docutils literal notranslate"><span class="pre">duration</span></code> in seconds for this recognized segment.</p></li>
</ul>
<p>Here are some examples of the events:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">InfoEvent</span><span class="p">(</span><span class="n">payload</span><span class="o">=</span><span class="n">InfoEventPayload</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;begin&#39;</span><span class="p">))</span>
<span class="n">RecognizingEvent</span><span class="p">(</span><span class="n">payload</span><span class="o">=</span><span class="n">RecognizingEventPayload</span><span class="p">(</span><span class="n">segment_id</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39; how much&#39;</span><span class="p">,</span> <span class="n">voice_start_time</span><span class="o">=</span><span class="mf">29.17</span><span class="p">,</span> <span class="n">word_alignments</span><span class="o">=</span><span class="p">[</span><span class="n">WordAlignment</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s1">&#39;how&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mf">29.169998919963838</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">WordAlignment</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s1">&#39;much&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mf">29.32999891638756</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">)]))</span>
<span class="n">RecognizedEvent</span><span class="p">(</span><span class="n">payload</span><span class="o">=</span><span class="n">RecognizedEventPayload</span><span class="p">(</span><span class="n">segment_id</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39; How much it was? &#39;</span><span class="p">,</span> <span class="n">voice_start_time</span><span class="o">=</span><span class="mf">29.17</span><span class="p">,</span> <span class="n">word_alignments</span><span class="o">=</span><span class="p">[</span><span class="n">WordAlignment</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s1">&#39;How&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mf">29.169998919963838</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">WordAlignment</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s1">&#39;much&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mf">29.32999891638756</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">WordAlignment</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s1">&#39;it&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mf">29.609998917579652</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">WordAlignment</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s1">&#39;was?&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mf">29.68999890089035</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">)],</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.67</span><span class="p">))</span>
</pre></div>
</div>
</div>
</section>
<section id="putting-everything-together">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">Putting everything together</a><a class="headerlink" href="#putting-everything-together" title="Permalink to this heading"></a></h4>
<p>Now, put everything together and run the example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">wave</span>
<span class="kn">import</span> <span class="nn">argparse</span>

<span class="kn">from</span> <span class="nn">seavoice_sdk_beta</span> <span class="kn">import</span> <span class="n">LanguageCode</span><span class="p">,</span> <span class="n">SpeechRecognizer</span>
<span class="kn">from</span> <span class="nn">seavoice_sdk_beta.events</span> <span class="kn">import</span> <span class="n">InfoEvent</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">recognize</span><span class="p">(</span>
    <span class="n">audio_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="n">LanguageCode</span><span class="p">,</span>
    <span class="n">sample_rate</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">sample_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">frames_sent_per_command</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">seavoice_token</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SEAVOICE_TOKEN&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">seavoice_token</span><span class="p">,</span> <span class="s2">&quot;SEAVOICE_TOKEN is not set.&quot;</span>
    <span class="n">recognizer</span> <span class="o">=</span> <span class="n">SpeechRecognizer</span><span class="p">(</span>
        <span class="n">token</span><span class="o">=</span><span class="n">seavoice_token</span><span class="p">,</span>
        <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span>
        <span class="n">sample_rate</span><span class="o">=</span><span class="n">sample_rate</span><span class="p">,</span>
        <span class="n">sample_width</span><span class="o">=</span><span class="n">sample_width</span><span class="p">,</span>
        <span class="n">enable_itn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">contexts</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">context_score</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">)</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">recognizer</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">_send</span><span class="p">():</span>
            <span class="k">with</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">audio_path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">audio_file</span><span class="p">:</span>
                <span class="n">frames</span> <span class="o">=</span> <span class="n">audio_file</span><span class="o">.</span><span class="n">readframes</span><span class="p">(</span><span class="n">frames_sent_per_command</span><span class="p">)</span>
                <span class="k">while</span> <span class="n">frames</span><span class="p">:</span>
                    <span class="k">await</span> <span class="n">recognizer</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
                    <span class="n">frames</span> <span class="o">=</span> <span class="n">audio_file</span><span class="o">.</span><span class="n">readframes</span><span class="p">(</span><span class="n">frames_sent_per_command</span><span class="p">)</span>

            <span class="k">await</span> <span class="n">recognizer</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>

        <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">_send</span><span class="p">())</span>
        <span class="k">async</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">recognizer</span><span class="o">.</span><span class="n">stream</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="ow">is</span> <span class="n">InfoEvent</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: status </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--audio&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;path to the audio file to be recognized&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--sample-rate&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;sample rate of the audio&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--language&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;language of the provided audio, choose from &#39;en&#39; and &#39;zh&#39;&quot;</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">language</span> <span class="o">==</span> <span class="s2">&quot;en&quot;</span><span class="p">:</span>
        <span class="n">lang</span> <span class="o">=</span> <span class="n">LanguageCode</span><span class="o">.</span><span class="n">EN_US</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">language</span> <span class="o">==</span> <span class="s2">&quot;zh&quot;</span><span class="p">:</span>
        <span class="n">lang</span> <span class="o">=</span> <span class="n">LanguageCode</span><span class="o">.</span><span class="n">ZH_TW</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;for &#39;language&#39;, choose from &#39;en&#39;, &#39;zh&#39;&quot;</span><span class="p">)</span>

    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">recognize</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">audio</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="n">lang</span><span class="p">,</span> <span class="n">sample_rate</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">sample_rate</span><span class="p">))</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="text-to-speech-example">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Text-to-Speech Example:</a><a class="headerlink" href="#text-to-speech-example" title="Permalink to this heading"></a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Install and import</a><a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p>To install SeaVoice SDK:</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">seavoice-sdk-test</span></code></p>
<p>To import SeaVoice SDK:</p>
<p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">seavoice_sdk_beta</span> <span class="pre">as</span> <span class="pre">speechsdk</span></code></p>
</section>
<section id="synthesis">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Synthesis</a><a class="headerlink" href="#synthesis" title="Permalink to this heading"></a></h3>
<p>In the example below, we show how to synthesize text to generate an
audio file. You can also receive synthesis results from an audio stream.</p>
<section id="voice-configuration">
<h4><a class="toc-backref" href="#id13" role="doc-backlink">Voice Configuration</a><a class="headerlink" href="#voice-configuration" title="Permalink to this heading"></a></h4>
<p>Use the following code to create <code class="docutils literal notranslate"><span class="pre">SpeechSynthesizer</span></code> and <code class="docutils literal notranslate"><span class="pre">SynthesisSettings</span></code> (contact <a class="reference external" href="mailto:info&#37;&#52;&#48;seasalt&#46;ai">info<span>&#64;</span>seasalt<span>&#46;</span>ai</a> for the SEAVOICE_TOKEN):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">seavoice_sdk_beta</span> <span class="kn">import</span> <span class="n">SpeechSynthesizer</span><span class="p">,</span> <span class="n">LanguageCode</span><span class="p">,</span> <span class="n">Voice</span>
<span class="kn">from</span> <span class="nn">seavoice_sdk_beta.commands</span> <span class="kn">import</span> <span class="n">SynthesisSettings</span>

<span class="n">synthesizer</span> <span class="o">=</span> <span class="n">SpeechSynthesizer</span><span class="p">(</span>
    <span class="n">token</span><span class="o">=</span><span class="n">SEAVOICE_TOKEN</span><span class="p">,</span>
    <span class="n">language</span><span class="o">=</span><span class="n">LanguageCode</span><span class="o">.</span><span class="n">EN_US</span><span class="p">,</span>
    <span class="n">sample_rate</span><span class="o">=</span><span class="mi">22050</span><span class="p">,</span>
    <span class="n">voice</span><span class="o">=</span><span class="n">Voice</span><span class="o">.</span><span class="n">TOMHANKS</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">settings</span> <span class="o">=</span> <span class="n">SynthesisSettings</span><span class="p">(</span>
    <span class="n">pitch</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="n">speed</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="n">volume</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span>
    <span class="n">rules</span><span class="o">=</span><span class="s2">&quot;Elon | eelon</span><span class="se">\n</span><span class="s2">X Æ A12 | x ash ay twelve&quot;</span><span class="p">,</span>
    <span class="n">sample_rate</span><span class="o">=</span><span class="mi">22050</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">language</span></code>: choose from <code class="docutils literal notranslate"><span class="pre">LanguageCode.ZH_TW</span></code>, <code class="docutils literal notranslate"><span class="pre">LanguageCode.EN_US</span></code>, <code class="docutils literal notranslate"><span class="pre">LanguageCode.EN_GB</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">voice</span></code>: voice options of the synthesized audio</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ZH_TW</span></code> : choose from <code class="docutils literal notranslate"><span class="pre">Voice.TONGTONG</span></code>, <code class="docutils literal notranslate"><span class="pre">Voice.VIVIAN</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EN_US</span></code> : choose from <code class="docutils literal notranslate"><span class="pre">Voice.ROBERT</span></code>, <code class="docutils literal notranslate"><span class="pre">Voice.TOM</span></code>, <code class="docutils literal notranslate"><span class="pre">Voice.MIKE</span></code>, <code class="docutils literal notranslate"><span class="pre">Voice.ANNE</span></code>, <code class="docutils literal notranslate"><span class="pre">Voice.LISSA</span></code>, <code class="docutils literal notranslate"><span class="pre">Voice.MOXIE</span></code>, <code class="docutils literal notranslate"><span class="pre">Voice.REESE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EN_GB</span></code> : choose from <code class="docutils literal notranslate"><span class="pre">Voice.DAVID</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">pitch</span></code> : to adjust the pitch of the synthesized voice, choose a value between <code class="docutils literal notranslate"><span class="pre">-12.0</span></code> and <code class="docutils literal notranslate"><span class="pre">12.0</span></code>, where <code class="docutils literal notranslate"><span class="pre">0.0</span></code> is the default/normal value, where positive values raise the pitch and negative values lower the pitch.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">speed</span></code> : to adjust the speed of the synthesized voice, choose a value between <code class="docutils literal notranslate"><span class="pre">0.5</span></code> and <code class="docutils literal notranslate"><span class="pre">2.0</span></code>, where <code class="docutils literal notranslate"><span class="pre">1.0</span></code> is the default/normal value, where values &gt; 1.0 speed up the speech and values &lt; 1.0 slows down the speech.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">volume</span></code> : to adjust the volume of the synthesized voice, choose a value between <code class="docutils literal notranslate"><span class="pre">0.0</span></code> and <code class="docutils literal notranslate"><span class="pre">100.0</span></code>, where <code class="docutils literal notranslate"><span class="pre">50.0</span></code> is the default/normal value, where values &gt; 50.0 increases the volume and values &lt; 50.0 decreases the volume.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rules</span></code> : to specify pronunciation rules for special word representations, input string in the following format <code class="docutils literal notranslate"><span class="pre">&lt;WORD1&gt;</span> <span class="pre">|</span> <span class="pre">&lt;PRONUNCIATION1&gt;\n&lt;WORD2&gt;</span> <span class="pre">|</span> <span class="pre">&lt;PRONUNCIATION2&gt;</span></code> where <code class="docutils literal notranslate"><span class="pre">\n</span></code> is the delimiter.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ZH_TW</span></code> : pronunciation can be specified in zhuyin, pinyin, or Chinese characters, e.g. “TSMC | 台積電n你好 | ㄋㄧˇ ㄏㄠˇn為了 | wei4 le5”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EN_US</span></code> and <code class="docutils literal notranslate"><span class="pre">EN_GB</span></code> : pronunciation can be specified with English words, e.g. “XÆA12 | ex ash ay twelvenSideræl|psydeereal”</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sample_rate</span></code>: make sure the sample rate matches the sample rate setting for the output audio file.</p></li>
</ul>
</div>
</section>
<section id="text-configuration">
<h4><a class="toc-backref" href="#id14" role="doc-backlink">Text Configuration</a><a class="headerlink" href="#text-configuration" title="Permalink to this heading"></a></h4>
<p>Use the following code to create <code class="docutils literal notranslate"><span class="pre">SynthesisData</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">seavoice_sdk_beta.commands</span> <span class="kn">import</span> <span class="n">SynthesisData</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">SynthesisData</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Good morning, today&#39;s date is&lt;say-as interpret-as=&#39;date&#39; format=&#39;m/d/Y&#39;&gt;10/11/2022&lt;/say-as&gt;&quot;</span><span class="p">,</span>
    <span class="n">ssml</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">text</span></code> is the text to be synthesized.
<code class="docutils literal notranslate"><span class="pre">ssml</span></code> should be True if <code class="docutils literal notranslate"><span class="pre">text</span></code> is an SSML string, i.e. using SSML tags. See <a class="reference internal" href="seavoice_restful_apis_tutorial.html#supported-ssml-tags"><span class="std std-ref">Supported SSML Tags</span></a> Tags for more info.</p>
</div>
</section>
<section id="output-file-configuration">
<h4><a class="toc-backref" href="#id15" role="doc-backlink">Output File Configuration</a><a class="headerlink" href="#output-file-configuration" title="Permalink to this heading"></a></h4>
<p>Use the following code to initialise the synthesized output audio:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">wave</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;output.wav&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">setnchannels</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">setsampwidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">setframerate</span><span class="p">(</span><span class="mi">22050</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="synthesis-command">
<h4><a class="toc-backref" href="#id16" role="doc-backlink">Synthesis Command</a><a class="headerlink" href="#synthesis-command" title="Permalink to this heading"></a></h4>
<p>Use the following code to create <code class="docutils literal notranslate"><span class="pre">SynthesisCommand</span></code> using the <code class="docutils literal notranslate"><span class="pre">SynthesisData</span></code> and <code class="docutils literal notranslate"><span class="pre">SynthesisSettings</span></code> from previous steps:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">seavoice_sdk_beta.commands</span> <span class="kn">import</span> <span class="n">SynthesisCommand</span>

<span class="n">command</span> <span class="o">=</span> <span class="n">SynthesisCommand</span><span class="p">(</span>
    <span class="n">payload</span><span class="o">=</span><span class="n">SynthesisPayload</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id2">
<h4><a class="toc-backref" href="#id17" role="doc-backlink">Putting everything together</a><a class="headerlink" href="#id2" title="Permalink to this heading"></a></h4>
<p>Now, put everything together and run the example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">wave</span>

<span class="kn">from</span> <span class="nn">seavoice_sdk_beta</span> <span class="kn">import</span> <span class="n">LanguageCode</span><span class="p">,</span> <span class="n">SpeechSynthesizer</span><span class="p">,</span> <span class="n">Voice</span>
<span class="kn">from</span> <span class="nn">seavoice_sdk_beta.commands</span> <span class="kn">import</span> <span class="n">SynthesisCommand</span><span class="p">,</span> <span class="n">SynthesisData</span><span class="p">,</span> <span class="n">SynthesisPayload</span><span class="p">,</span> <span class="n">SynthesisSettings</span>
<span class="kn">from</span> <span class="nn">seavoice_sdk_beta.events</span> <span class="kn">import</span> <span class="n">AudioDataEvent</span>

<span class="n">SAMPLE_RATE</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8000</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">synthesize</span><span class="p">():</span>
    <span class="n">seavoice_token</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SEAVOICE_TOKEN&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">seavoice_token</span><span class="p">,</span> <span class="s2">&quot;SEAVOICE_TOKEN is not set.&quot;</span>
    <span class="n">synthesizer</span> <span class="o">=</span> <span class="n">SpeechSynthesizer</span><span class="p">(</span>
        <span class="n">token</span><span class="o">=</span><span class="n">seavoice_token</span><span class="p">,</span>
        <span class="n">language</span><span class="o">=</span><span class="n">LanguageCode</span><span class="o">.</span><span class="n">ZH_TW</span><span class="p">,</span>
        <span class="n">sample_rate</span><span class="o">=</span><span class="n">SAMPLE_RATE</span><span class="p">,</span>
        <span class="n">voice</span><span class="o">=</span><span class="n">Voice</span><span class="o">.</span><span class="n">TONGTONG</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">SynthesisData</span><span class="p">(</span>
        <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Good morning, today&#39;s date is&lt;say-as interpret-as=&#39;date&#39; format=&#39;m/d/Y&#39;&gt;10/11/2022&lt;/say-as&gt;&quot;</span><span class="p">,</span>
        <span class="n">ssml</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">settings</span> <span class="o">=</span> <span class="n">SynthesisSettings</span><span class="p">(</span>
        <span class="n">pitch</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">speed</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
        <span class="n">volume</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>
        <span class="n">rules</span><span class="o">=</span><span class="s2">&quot;SeaX | sea x&quot;</span><span class="p">,</span>
        <span class="n">sample_rate</span><span class="o">=</span><span class="n">SAMPLE_RATE</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">command</span> <span class="o">=</span> <span class="n">SynthesisCommand</span><span class="p">(</span>
        <span class="n">payload</span><span class="o">=</span><span class="n">SynthesisPayload</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">f</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;output.wav&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">setnchannels</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">setsampwidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">setframerate</span><span class="p">(</span><span class="n">SAMPLE_RATE</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">synthesizer</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">_send</span><span class="p">():</span>
            <span class="k">await</span> <span class="n">synthesizer</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">_send</span><span class="p">())</span>
        <span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">synthesizer</span><span class="o">.</span><span class="n">stream</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">AudioDataEvent</span><span class="p">):</span>
                <span class="n">f</span><span class="o">.</span><span class="n">writeframes</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">audio</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">synthesize</span><span class="p">())</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="change-log">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">Change Log</a><a class="headerlink" href="#change-log" title="Permalink to this heading"></a></h2>
<p>[0.2.3] - 2022-9-23</p>
<p><code class="docutils literal notranslate"><span class="pre">Improvements</span></code></p>
<ul class="simple">
<li><p>Add reconnection mechanism</p></li>
</ul>
<p>[0.2.2] - 2021-8-16</p>
<p><code class="docutils literal notranslate"><span class="pre">Bugfixes</span></code></p>
<ul class="simple">
<li><p>Some callbacks were never called</p></li>
</ul>
<p>[0.2.1] - 2021-7-25</p>
<p><code class="docutils literal notranslate"><span class="pre">changed</span> <span class="pre">sdk</span> <span class="pre">name</span> <span class="pre">to</span> <span class="pre">seavoice</span></code></p>
<p>[0.1.14] - 2021-4-9</p>
<p><code class="docutils literal notranslate"><span class="pre">Improvements</span></code></p>
<ul class="simple">
<li><p>Added output of post-processing result</p></li>
</ul>
<p>[0.1.13] - 2021-4-1</p>
<p><code class="docutils literal notranslate"><span class="pre">Improvements</span></code></p>
<ul class="simple">
<li><p>Added output of segment and word alignment information</p></li>
</ul>
<p>[0.1.12] - 2020-12-10</p>
<p><code class="docutils literal notranslate"><span class="pre">Bugfixes</span></code></p>
<ul class="simple">
<li><p>Remove unused variable</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">Improvements</span></code></p>
<ul class="simple">
<li><p>Added websocket packages in requirements.txt file</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="readme.html" class="btn btn-neutral float-left" title="SeaVoice Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="seavoice_restful_apis_tutorial.html" class="btn btn-neutral float-right" title="SeaVoice RESTful APIs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-Today, Seasalt.ai.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-10405841-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-10405841-8', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>